window._walkmeWebpackJP&&(window._walkmeWebpackJP=window._walkmeWebpackJP||[]).push([[10],{1157:function(e,t,n){"use strict";n.r(t),n.d(t,"init",function(){return i}),n.d(t,"registers",function(){return a});var r=n(1158);function i(){a(),r.a.get("UserCentricPerformance").start()}function a(){n(1159),n(1160),n(1162),n(1163),n(1164),n(1165),n(1166)}},1158:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(321),i=Object(r.create)()},1159:function(e,t,n){"use strict";n.r(t),n(1158).a.register("UserCentricPerformance").asFunction(function(e,t,n,r,i){function a(){r.untrack(),i.untrack()}return{start:function(){n.track(),t.handlePerfRecords(e.__tti&&e.__tti.e),i.track(),r.track(),e.on("removeWalkMe",function(){a()})},stop:a}}).dependencies("WmInternals,UCPUtils,UCPTracker,TTITracker,AbandonTracker")},1160:function(e,t,s){"use strict";s.r(t),s(1158).a.register("TTITracker").asFunction(function(e,r,t,n,i){function a(){e.__tti&&e.__tti.o&&(t.handlePerfRecords(e.__tti.o.takeRecords()),e.__tti.o.disconnect())}var o={track:function(){if(!("PerformanceLongTaskTiming"in window))return i.fallbackNoTTI(),void a();(0,o.__getTTIPolyfill().getFirstConsistentlyInteractive)({minValue:void 0,searchStartGetter:function(){var e=t.getLastLCP();if(e)return e.startTime+e.duration},useMutationObserver:!0,__tti:e.__tti,setTimeout:n.setWalkmeTimeout,clearTimeout:function(e){e&&e.clear&&e.clear()}}).then(function(e){var t=e.tti,n=e.searchStart;i.untrack(),r.send("TTI",n,t,t-n)})},untrack:a,__getTTIPolyfill:function(){return s(1161)}};return o}).dependencies("WmInternals,UCPEventSender,UCPUtils,TimerManager,AbandonTracker")},1161:function(r,e,t){(function(k,P){!function(){function u(e){var t,n,r="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return r?r.call(e):{next:(t=e,n=0,function(){return n<t.length?{done:!1,value:t[n++]}:{done:!0}})}}function c(e){if(!(e instanceof Array)){e=u(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}var l,d,e="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,f=0,h={};var m,p="img script iframe link audio video source".split(" ");function v(e,t){for(var n=(e=u(e)).next();!n.done;n=e.next())if(n=n.value,t.includes(n.nodeName.toLowerCase())||n.children&&v(n.children,t))return!0;return!1}function g(e){return 1e3*(4*Math.pow(Math.E,e/1e3*-.045)+1)}function y(e,t){if(2<e.length)return performance.now();for(var n=[],r=(t=u(t)).next();!r.done;r=t.next())r=r.value,n.push({timestamp:r.start,type:"requestStart"}),n.push({timestamp:r.end,type:"requestEnd"});for(r=(t=u(e)).next();!r.done;r=t.next())n.push({timestamp:r.value,type:"requestStart"});for(n.sort(function(e,t){return e.timestamp-t.timestamp}),e=e.length,t=n.length-1;0<=t;t--)switch(r=n[t],r.type){case"requestStart":e--;break;case"requestEnd":if(2<++e)return r.timestamp;break;default:throw Error("Internal Error: This should never happen")}return 0}function T(){}function t(e){var t=this;m=(e=void 0===e?{}:e).log||T,this.setTimeout=e.setTimeout||setTimeout,this.clearTimeout=e.clearTimeout||clearTimeout,this.G=!!e.useMutationObserver,this.A=e.minValue||null,this.B=e.searchStartGetter||null;var a,o,r,n,i,s=e.__tti&&e.__tti.e;e=e.__tti&&e.__tti.o,this.a=[],this.b=[],s&&(m("Consuming the long task & network entries already recorded."),s.forEach(function(e){"longtask"===e.entryType?b(t,e):"resource"===e.entryType&&t.b.push({start:e.fetchStart,end:e.responseEnd})})),e&&e.disconnect(),this.c=new P,this.v=null,this.u=-1/0,this.s=!1,this.m=this.i=this.w=null,this.f={l:this.D.bind(this),g:this.C.bind(this)},a=this.f,h.send=XMLHttpRequest.prototype.send,XMLHttpRequest.prototype.send=l=function(e){for(var t=[],n=0;n<arguments.length;++n)t[n]=arguments[n];var r=this,i=f++;return a.l(i),this.addEventListener("readystatechange",function(){4===r.readyState&&a.g(i)}),h.send.apply(this,t)},o=this.f,h.fetch=fetch,fetch=d=function(e){for(var i=[],t=0;t<arguments.length;++t)i[t]=arguments[t];return new k(function(t,n){var r=f++;o.l(r),h.fetch.apply(h,c(i)).then(function(e){o.g(r),t(e)},function(e){o.g(r,e),n(e)})})},(r=this).i=new PerformanceObserver(function(e){for(var t=(e=u(e=e.getEntries())).next();!t.done;t=e.next()){if("resource"===(t=t.value).entryType){var n=t;m("Network request finished",n),r.b.push({start:n.fetchStart,end:n.responseEnd}),w(r,y(r.h,r.b)+r.j)}"longtask"===t.entryType&&(m("Long task finished",t),t=b(r,t),w(r,t.end+r.j))}}),r.i.observe({entryTypes:["longtask","resource"]}),this.G&&(this.m=(n=this.F.bind(this),(i=new MutationObserver(function(e){for(var t=(e=u(e)).next();!t.done;t=e.next())"childList"==(t=t.value).type&&v(t.addedNodes,p)?n(t):"attributes"==t.type&&p.includes(t.target.tagName.toLowerCase())&&n(t)})).observe(document,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["href","src"]}),i))}function n(e){m("Enabling FirstConsistentlyInteractiveDetector"),e.s=!0;var t=0<e.a.length?e.a[e.a.length-1].end:0,n=y(e.h,e.b);w(e,Math.max(n+5e3,t))}function w(i,e){i.s?(m("Attempting to reschedule FirstConsistentlyInteractive check to "+e),m("Previous timer activation time: "+i.u),i.u>e?m("Current activation time is greater than attempted reschedule time. No need to postpone."):(i.clearTimeout(i.v),i.v=i.setTimeout(function(){m("Checking if First Consistently Interactive was reached...");var e,t=y(i.h,i.b);i.B&&(e=i.B())||(e=performance.timing.navigationStart,e=(window.a&&window.a.H?1e3*window.a.H().I-e:0)||performance.timing.domContentLoadedEventEnd-e);var n=a(i),r=performance.now();null===n&&(m("No usable minimum value yet. Postponing check."),w(i,Math.max(t+i.j,r+1e3))),m("Parameter values:"),m("NavigationStart",performance.timing.navigationStart),m("lastKnownNetwork2Busy",t),m("Search Start",e),m("Min Value",n),m("Last busy",t),m("Current time",r),m("Long tasks",i.a),m("Incomplete JS Request Start Times",i.h),m("Network requests",i.b),(t=r-t<5e3?null:r-(t=function(e,t){function n(){250<s.end-s.start&&(a=Math.max(a,s.end),o=g(a-e))}var r=e+5e3,i=t.filter(function(e){return e.start>r}),a=0===(t=t.filter(function(e){return e.start<=r})).length?e:t[t.length-1].end;if(0===i.length)return a;var o,s={start:a-1e3,end:a};for(n(),t=0;t<i.length;t++){var u=i[t];if(u.start<s.end+1e3)s.end=u.end,n();else{if(u.start>a+o)break;s={start:u.start,end:u.end},n()}}return a}(e,i.a))<g(t)?null:Math.max(t,n))?(i.w({tti:t,searchStart:e}),m("Disabling FirstConsistentlyInteractiveDetector"),i.clearTimeout(i.v),i.s=!1,i.i&&i.i.disconnect(),i.m&&i.m.disconnect(),h.send&&XMLHttpRequest.prototype.send===l&&(XMLHttpRequest.prototype.send=h.send),h.fetch&&fetch===d&&(fetch=h.fetch),i.f&&(i.f.l=T,i.f.g=T),i.a=[],i.b=[],i.c=new P):(m("Could not detect First Consistently Interactive. Retrying in 1 second."),w(i,performance.now()+1e3))},e-performance.now()),i.u=e,m("Rescheduled firstConsistentlyInteractive check at "+e))):m("startSchedulingTimerTasks must be called before calling rescheduleTimer")}function b(e,t){return t={start:t.startTime,end:t.startTime+t.duration},e.a.push(t),t}function a(e){return e.A?e.A:performance.timing.domContentLoadedEventEnd?(e=performance.timing).domContentLoadedEventEnd-e.navigationStart:null}t.prototype.getFirstConsistentlyInteractive=function(){var t=this;return new k(function(e){t.w=e,"complete"==document.readyState?n(t):window.addEventListener("load",function(){n(t)})})},t.prototype.D=function(e){m("Starting JS initiated request. Request ID: "+e),this.c.set(e,performance.now()),m("Active XHRs: "+this.c.size)},t.prototype.C=function(e){m("Completed JS initiated request with request ID: "+e),this.c.delete(e),m("Active XHRs: "+this.c.size)},t.prototype.F=function(e){m("Potentially network resource fetching mutation detected",e),m("Pushing back FirstConsistentlyInteractive check by 5 seconds."),w(this,performance.now()+this.j)},e.Object.defineProperties(t.prototype,{h:{configurable:!0,enumerable:!0,get:function(){return[].concat(c(this.c.values()))}},j:{configurable:!0,enumerable:!0,get:function(){var e=a(this);return g(null!==e?performance.now()-e:0)}}}),r.exports={getFirstConsistentlyInteractive:function(e){return e=void 0===e?{}:e,"PerformanceLongTaskTiming"in window?new t(e).getFirstConsistentlyInteractive():k.resolve(null)}}}()}).call(this,t(2),t(95))},1162:function(e,t,n){"use strict";n.r(t),n(1158).a.register("AbandonTracker").asFunction(function(e,t){function n(){document.removeEventListener&&document.removeEventListener("visibilitychange",r)}function r(){n(),e.send("abandon",performance.now())}return{track:function(){document.addEventListener&&document.addEventListener("visibilitychange",r)},untrack:n,fallbackNoTTI:function(){t.setWalkmeTimeout(n,5e3)}}}).dependencies("UCPEventSender,TimerManager")},1163:function(e,t,n){"use strict";n.r(t),n(1158).a.register("UCPUtils").asFunction(function(h,m,p){var a,s=["LibFile","WidgetFile","PreLibJsFile","jQueryFile","PostLibJsFile"].map(function(n){return function(e,t){return e===t[n]&&n}}).concat([function(e,t){return 0===e.indexOf(t.PublicPath)&&"LibChunk"},function(t,e){return e.DataFiles.find(function(e){return e.url===t})&&"DataFile"},function(e,t){return 0===e.indexOf(t.BaseUserCdnFolder)&&"AccountFile"}]);function v(e){if(e){for(var t=[],n=0,r=e;n<r.length;n++){var i=r[n];t.push({type:i.containerType,src:i.containerSrc,id:i.containerId,name:i.containerName})}return t}}function g(e){var t=e.startTime,n=e.entryType,r=e.duration,i=e.size;"largest-contentful-paint"===n&&(!a||a.size<i)&&(a={startTime:t,entryType:n,duration:r,size:i})}function y(e){var t,n=e.entryType,r=e.name,i=h.getCdnServerName();if("resource"===n&&r&&0===r.indexOf(i)){var a=h.getSettingsFile(),o=s.reduce(function(e,t){return e||t(r,a)},void 0);if(o)return{url:((t=r)?t.split("#").shift().split("?").shift().split("/").pop():null)||r,fileType:o}}return{}}return{handlePerfRecords:function(e){var t;void 0===e&&(e=[]),void 0===(t=e)&&(t=[]);for(var n=0,r=e=t.filter(function(e){var t=e.entryType,n=e.name,r=void 0===n?"":n;if(!p.isAllowed(t))return!1;if("resource"!==t)return!0;var i=h.getSettingsFile();return!(i&&(-1!==r.indexOf(i.EventServer)||-1!==r.indexOf(i.PlayerServer)))});n<r.length;n++){var i=r[n],a=i.name,o=i.startTime,s=i.duration,u=i.attribution,c=i.entryType,l=y(i),d=l.url,f=l.fileType;g(i),m.send(d||a,o,o+s,s,c,v(u),f)}},getLastLCP:function(){return a}}}).dependencies("SettingsFile,UCPEventSender,UCPTrackingTypes")},1164:function(e,t,n){"use strict";n.r(t),n(1158).a.register("UCPEventSender").asFunction(function(e,u,c,l,d){var f=e.wrapCustomerLog("UserCentricPerf");return{send:function(e,t,n,r,i,a,o){var s={name:e,quantity:Math.round(t),total:Math.round(n),duration:Math.round(r),type:i,result:l.toJSON(a),reason:"UserCentricPerf",message:c.getGroup(),language:d.getLanguage(),instanceId:o};f(s),u.send("feperf",s)}}}).dependencies("Logger,SessionThrottledBIBeaconLogger,WalkmeLoadTestIndicatorApi,JsonUtils,WalkMeInfo")},1165:function(e,t,n){"use strict";n.r(t),n(1158).a.register("UCPTracker").asFunction(function(t,n,r){var i;function a(){n.handlePerfRecords(i&&i.takeRecords()),i&&i.disconnect()}return{track:function(){if("PerformanceObserver"in window){var e=[];if("PerformanceResourceTiming"in window&&r.isAllowed("resource")&&e.push("resource"),"PerformancePaintTiming"in window&&r.isAllowed("paint")&&e.push("paint"),"PerformanceLongTaskTiming"in window&&r.isAllowed("longtask")&&e.push("longtask"),"LargestContentfulPaint"in window&&r.isAllowed("largest-contentful-paint")&&e.push("largest-contentful-paint"),0===e.length)return;(i=new PerformanceObserver(function(e){n.handlePerfRecords(e.getEntries())})).observe({entryTypes:e}),t.perf=t.perf||{},t.perf.observer=i,t.on("removeWalkMe",function(){a()})}},untrack:a}}).dependencies("WmInternals,UCPUtils,UCPTrackingTypes")},1166:function(e,t,n){"use strict";n.r(t);var r=n(1158),i=["paint","largest-contentful-paint"];r.a.register("UCPTrackingTypes").asFunction(function(t){return{isAllowed:function(e){return-1!==i.indexOf(e)||(t.isFeatureEnabled("ucp-"+e)||t.isFeatureEnabled("ucp-measure-all"))}}}).dependencies("FeaturesManager")}}]);